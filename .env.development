# =============================================================
# FILE: .env.development
# PittState-Connect — Local Development Environment
# Advanced + Optional Enhancements + Safe Defaults
# =============================================================

# --- Flask / Environment ---
FLASK_ENV=development
DEBUG=true
TESTING=false
APP_NAME="PittState-Connect (Dev)"
UNIVERSITY_NAME="Pittsburg State University"

# --- Security ---
# For local testing only — generate a random 64-char hex in production
SECRET_KEY="dev-secret-key-change-this-in-production"
SECURITY_PASSWORD_SALT="dev-salt-change-this-too"

# --- Logging ---
LOG_LEVEL=debug  # (info|warning|error|debug)
ENABLE_CONSOLE_LOGGING=true

# --- Database ---
# Use SQLite locally to avoid needing Postgres running
SQLALCHEMY_DATABASE_URI="sqlite:///instance/pittstate_dev.db"
SQLALCHEMY_TRACK_MODIFICATIONS=false
SQLALCHEMY_ECHO=false

# Optional: if testing with Postgres locally, comment above and use:
# SQLALCHEMY_DATABASE_URI="postgresql+psycopg2://pittstate_dev_user:password@localhost:5432/pittstate_connect_dev"

DATABASE_URL="sqlite:///instance/pittstate_dev.db"

# --- Mail / Email (development stub) ---
MAIL_SERVER="smtp.gmail.com"
MAIL_PORT=587
MAIL_USE_TLS=true
MAIL_USERNAME="your-email@gmail.com"
MAIL_PASSWORD="your-google-app-password"
MAIL_DEFAULT_SENDER="PittState Dev <no-reply@pittstate.edu>"
MAIL_SUPPRESS_SEND=false
MAIL_DEBUG=true

# --- OpenAI / AI Integration ---
# Optional: if you don’t have an API key, leave blank — AI features will auto-disable gracefully
OPENAI_API_KEY="replace-with-your-openai-api-key"
AI_MODEL="gpt-4o-mini"
AI_TEMPERATURE=0.5
AI_MAX_TOKENS=1500
AI_TIMEOUT=20  # seconds for local experiments

# --- Feature Toggles (modular control) ---
ENABLE_ANALYTICS=true
ENABLE_DONOR_PORTAL=true
ENABLE_SCHOLARSHIP_AI=true
ENABLE_MENTOR_FEATURES=true
ENABLE_DIAGNOSTICS=true
ENABLE_DONOR_SYNC=true
ENABLE_DASHBOARD_EXPERIMENTS=true  # allows trying new dashboards locally

# --- Developer Tooling Enhancements ---
ENABLE_DEBUG_TOOLBAR=true
ENABLE_PROFILER=true
ENABLE_SQL_LOGGING=false
ENABLE_AUTO_RELOAD=true
ENABLE_TEMPLATE_RELOAD=true

# --- Local Analytics / Visualization Settings ---
PLOTLY_RENDER_MODE="auto"
ANALYTICS_SAMPLE_SIZE=50
ENABLE_FAKE_DONOR_DATA=true
ENABLE_FAKE_MENTOR_DATA=true

# --- Sentry (optional error tracking for dev) ---
SENTRY_DSN=""
SENTRY_TRACES_SAMPLE_RATE=1.0
SENTRY_ENVIRONMENT="development"

# --- Gunicorn / Local Server (dev tunables) ---
GUNICORN_WORKERS=2
GUNICORN_THREADS=2
GUNICORN_TIMEOUT=60
GUNICORN_WORKER_CLASS="gthread"

# --- Flask Server Options ---
HOST=127.0.0.1
PORT=5000
CORS_ALLOWED_ORIGINS="*"
USE_HTTPS=false

# --- Storage / Export Directories ---
DATA_DIR="./data"
EXPORTS_DIR="./data/exports"
REPORTS_DIR="./data/reports"
UPLOADS_DIR="./data/uploads"
CACHE_DIR="./data/cache"

# --- Testing / Sandbox Users ---
DEV_ADMIN_EMAIL="admin@pittstate.edu"
DEV_ADMIN_PASSWORD="changeme"
DEV_TEST_USER_EMAIL="student@pittstate.edu"
DEV_TEST_USER_PASSWORD="password123"

# --- Diagnostics / Self-Test ---
ENABLE_HEALTHCHECK_ENDPOINT=true
DIAGNOSTICS_VERBOSE=true
DIAGNOSTICS_LOGFILE="./logs/dev_diagnostics.log"

# --- Optional External Integrations (future expansion) ---
# (Leave blank or point to mock endpoints for local)
CAREER_API_BASE=""
ALUMNI_SYNC_ENDPOINT=""
DONOR_ANALYTICS_API=""
FINANCIAL_AID_API=""

# --- Security Headers / CSP Relaxed for Dev ---
DISABLE_STRICT_CSP=true
DISABLE_STRICT_HTTPS=true
ALLOW_INLINE_JS_CSS=true
ALLOW_IFRAME_EMBEDS=true
