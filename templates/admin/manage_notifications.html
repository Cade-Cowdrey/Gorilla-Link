{% extends 'base.html' %}
{% block title %}Manage Notifications â€” Admin{% endblock %}
{% block content %}
<div class="container mx-auto py-10">
  <h1 class="text-3xl font-bold mb-8 text-crimson animate-fadeInUp">Manage Notifications</h1>

  <form method="post" action="{{ url_for('admin.send_notification') }}" class="grid gap-4 max-w-lg mb-10 animate-fadeInUp animation-delay-200">
    <input name="subject" placeholder="Subject" class="border p-3 rounded" required />
    <textarea name="message" placeholder="Message" class="border p-3 rounded" required></textarea>
    <button class="px-4 py-2 rounded bg-crimson text-white font-semibold hover:bg-red-700 transition">Send</button>
  </form>

  <h2 class="text-2xl font-semibold mb-4 animate-fadeInUp animation-delay-400">Recent Notifications</h2>
  <div class="overflow-x-auto bg-white shadow rounded-2xl animate-fadeInUp animation-delay-600">
    <table class="min-w-full">
      <thead class="bg-gray-100">
        <tr>
          <th class="text-left p-3">ID</th>
          <th class="text-left p-3">Subject</th>
          <th class="text-left p-3">Status</th>
        </tr>
      </thead>
      <tbody>
        {% for n in notifications %}
        <tr class="border-b hover:bg-gray-50 animate-fadeInUp" style="animation-delay: {{ loop.index * 0.1 }}s;">
          <td class="p-3">{{ n.id }}</td>
          <td class="p-3">{{ n.subject }}</td>
          <td class="p-3">{{ n.status }}</td>
        </tr>
        {% endfor %}
      </tbody>
    </table>
  </div>
</div>

<style>
@keyframes fadeInUp {
  0% {opacity:0;transform:translateY(25px)}
  100% {opacity:1;transform:translateY(0)}
}
.animate-fadeInUp {animation: fadeInUp 0.8s ease forwards;}
.text-crimson {color:#990000;}
</style>
{% endblock %}
