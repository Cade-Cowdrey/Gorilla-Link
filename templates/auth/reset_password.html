{% extends "base.html" %}
{% block title %}Reset Password | PittState-Connect{% endblock %}
{% block content %}

<!-- ðŸ”’ RESET PASSWORD SECTION -->
<section class="min-h-[85vh] flex items-center justify-center bg-gray-50 dark:bg-[#121212] px-6 py-16 fade-in">
  <div class="bg-white dark:bg-[#1a1a1a] shadow-2xl rounded-2xl max-w-md w-full p-10 border border-psu-gold/30">
    
    <div class="text-center mb-10">
      <img src="{{ url_for('static', filename='images/psu_logo_large.png') }}" 
           alt="PSU Logo" class="mx-auto mb-4 w-20 md:w-24">
      <h1 class="text-3xl md:text-4xl font-bold text-psu-crimson dark:text-psu-gold mb-2">
        Create a New Password
      </h1>
      <p class="text-gray-600 dark:text-gray-300">
        Enter your new password below to regain access to your PittState-Connect account.
      </p>
    </div>

    <!-- ðŸ§¾ Reset Form -->
    <form method="POST" action="{{ url_for('auth.reset_password', token=token) if token else url_for('auth.reset_password') }}">
      {{ form.hidden_tag() if form else '' }}

      <div class="mb-6">
        <label for="password" class="block text-sm font-medium mb-1">New Password</label>
        <input type="password" id="password" name="password" required minlength="8"
               class="w-full bg-gray-50 dark:bg-[#1f1f1f] border border-gray-300 dark:border-gray-700 rounded-lg px-4 py-2 focus:outline-none focus:ring-2 focus:ring-psu-gold">
        <p class="text-xs text-gray-500 mt-1">Must be at least 8 characters long.</p>
      </div>

      <div class="mb-6">
        <label for="confirm_password" class="block text-sm font-medium mb-1">Confirm Password</label>
        <input type="password" id="confirm_password" name="confirm_password" required minlength="8"
               class="w-full bg-gray-50 dark:bg-[#1f1f1f] border border-gray-300 dark:border-gray-700 rounded-lg px-4 py-2 focus:outline-none focus:ring-2 focus:ring-psu-gold">
      </div>

      <div class="text-center mt-8">
        <button type="submit"
                class="bg-psu-gold text-black font-semibold px-8 py-3 rounded-lg hover:bg-yellow-500 transition-all w-full">
          Reset Password
        </button>
      </div>

      <p class="text-sm text-center text-gray-600 dark:text-gray-400 mt-6">
        Remembered your password? 
        <a href="{{ url_for('auth.login') }}" class="text-psu-gold hover:underline">Back to Login</a>.
      </p>
    </form>
  </div>
</section>

{% endblock %}
