<!DOCTYPE html>
<html lang="en" class="scroll-smooth">
<head>
  <!-- =========================
       META / SEO / BRANDING
       ========================= -->
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>{% block title %}PittState-Connect | Pittsburg State University{% endblock %}</title>
  <meta name="description" content="PittState-Connect — Pittsburg State University’s all-in-one student, alumni, and employer engagement platform." />
  <meta name="theme-color" content="#9E1B32" />
  <meta property="og:title" content="PittState-Connect" />
  <meta property="og:description" content="Empowering Students • Connecting Alumni • Driving Careers" />
  <meta property="og:image" content="{{ url_for('static', filename='img/psu-logo.png') }}" />
  <meta property="og:type" content="website" />

  <link rel="icon" type="image/png" href="{{ url_for('static', filename='img/psu-logo.png') }}" />

  <!-- =========================
       CSS + TAILWIND
       ========================= -->
  <script src="https://cdn.tailwindcss.com"></script>
  <link rel="stylesheet" href="{{ url_for('static', filename='css/base.css') }}">
  <script>
    tailwind.config = {
      darkMode: 'class',
      theme: {
        extend: {
          colors: {
            crimson: '#9E1B32',
            gold: '#FFCC33',
            psuBlack: '#1C1C1C',
            psuGray: '#F4F4F4',
            psuDarkGray: '#2C2C2C',
          },
        },
      },
    };
  </script>
</head>

<body class="bg-psuGray text-psuBlack dark:bg-psuBlack dark:text-white flex flex-col min-h-screen transition-all">
  <!-- =========================
       🦍 PSU NAVBAR
       ========================= -->
  <header id="navbar" class="sticky top-0 z-50 bg-crimson text-white dark:bg-psuDarkGray shadow-lg transition-all duration-300">
    <div class="max-w-7xl mx-auto flex items-center justify-between px-6 py-3">
      <div class="flex items-center gap-3">
        <img src="{{ url_for('static', filename='img/psu-logo.png') }}" alt="PSU" class="w-10 h-10 rounded-md">
        <a href="{{ safe_url_for('core_bp.home') }}" class="text-2xl font-bold hover:text-gold transition-all">
          PittState-Connect
        </a>
      </div>

      <nav class="hidden md:flex items-center gap-6 text-sm font-medium">
        {% if has_endpoint('core_bp.home') %}<a href="{{ safe_url_for('core_bp.home') }}" class="nav-link">Home</a>{% endif %}
        {% if has_endpoint('scholarships_bp.index') %}<a href="{{ safe_url_for('scholarships_bp.index') }}" class="nav-link">Scholarships</a>{% endif %}
        {% if has_endpoint('careers_bp.index') %}<a href="{{ safe_url_for('careers_bp.index') }}" class="nav-link">Careers</a>{% endif %}
        {% if has_endpoint('analytics_bp.dashboard') %}<a href="{{ safe_url_for('analytics_bp.dashboard') }}" class="nav-link">Analytics</a>{% endif %}
        {% if has_endpoint('faculty_bp.index') %}<a href="{{ safe_url_for('faculty_bp.index') }}" class="nav-link">Faculty</a>{% endif %}
        {% if has_endpoint('alumni_bp.index') %}<a href="{{ safe_url_for('alumni_bp.index') }}" class="nav-link">Alumni</a>{% endif %}
        {% if has_endpoint('donor_bp.index') %}<a href="{{ safe_url_for('donor_bp.index') }}" class="nav-link">Donors</a>{% endif %}
      </nav>

      <div class="flex items-center gap-3">
        <button id="themeToggle"
          class="p-2 bg-white/10 rounded-md hover:bg-white/20 dark:bg-white/20 dark:hover:bg-white/30 transition-all"
          title="Toggle Dark Mode">🌙</button>
        {% if current_user.is_authenticated %}
        <a href="{{ safe_url_for('auth_bp.logout') }}" class="btn-gold text-sm">Logout</a>
        {% else %}
        <a href="{{ safe_url_for('auth_bp.login') }}" class="btn-gold text-sm">Login</a>
        {% endif %}
      </div>
    </div>
  </header>

  <!-- =========================
       ⚡ FLASH MESSAGES
       ========================= -->
  {% with messages = get_flashed_messages(with_categories=true) %}
  {% if messages %}
  <div class="max-w-4xl mx-auto mt-4 space-y-2 fade-in">
    {% for category, message in messages %}
    <div class="p-3 rounded-md shadow-md text-white
      {% if category == 'success' %} bg-green-600
      {% elif category == 'error' %} bg-red-600
      {% elif category == 'warning' %} bg-yellow-500 text-black
      {% else %} bg-blue-600 {% endif %}">
      {{ message }}
    </div>
    {% endfor %}
  </div>
  {% endif %}
  {% endwith %}

  <!-- =========================
       📄 MAIN CONTENT
       ========================= -->
  <main class="flex-1 fade-in px-6 py-6 md:px-10 lg:px-16">
    {% block content %}{% endblock %}
  </main>

  <!-- =========================
       🦶 FOOTER
       ========================= -->
  <footer class="bg-psuBlack text-white dark:bg-psuDarkGray mt-8 py-6 text-center">
    <p class="text-sm mb-1">© {{ now().year if now else 2025 }} Pittsburg State University | PittState-Connect</p>
    <p class="text-xs opacity-80">Empowering Students • Connecting Alumni • Driving Careers</p>
    <div class="mt-2 flex justify-center gap-4 text-yellow-400">
      <a href="https://www.pittstate.edu" target="_blank" class="hover:text-white transition-all">PSU Official Site</a>
      <a href="mailto:support@pittstateconnect.com" class="hover:text-white transition-all">Contact Support</a>
    </div>
  </footer>

  <!-- =========================
       🧠 SCRIPTS
       ========================= -->
  <script src="{{ url_for('static', filename='js/main.js') }}"></script>
</body>
</html>
