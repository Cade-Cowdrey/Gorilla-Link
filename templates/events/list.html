{% extends "base.html" %}
{% block title %}Events | PittState-Connect{% endblock %}

{% block content %}
<!-- ============================================================
     🎟️ EVENTS OVERVIEW
============================================================ -->
<section class="section text-center fade-in">
  <h1 class="text-5xl font-heading text-crimson mb-4">Campus & Alumni Events</h1>
  <p class="text-gray max-w-2xl mx-auto mb-8">
    Explore upcoming campus events, networking nights, and alumni gatherings — connect and get involved!
  </p>

  <form method="GET" action="{{ url_for('events_bp.list') }}" class="max-w-xl mx-auto flex mb-10">
    <select name="category" class="border border-gray-300 rounded-l-lg p-3 focus:outline-none focus:ring-2 focus:ring-crimson">
      <option value="">All Categories</option>
      <option value="career">Career</option>
      <option value="academic">Academic</option>
      <option value="alumni">Alumni</option>
      <option value="community">Community</option>
    </select>
    <input type="text" name="q" placeholder="Search events..." 
           class="flex-1 border border-gray-300 p-3 focus:outline-none focus:ring-2 focus:ring-crimson">
    <button type="submit" class="btn btn-crimson rounded-l-none">Filter</button>
  </form>
</section>

<!-- ============================================================
     🗓️ EVENT CARDS
============================================================ -->
<section class="section-light py-16 fade-in">
  <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-10 max-w-6xl mx-auto">
    {% for event in events %}
    <div class="card p-6">
      {% if event.image_url %}
      <img src="{{ event.image_url }}" alt="Event Image" class="rounded-lg mb-4 w-full h-48 object-cover">
      {% endif %}
      <h3 class="text-2xl font-heading text-crimson mb-2">{{ event.title }}</h3>
      <p class="text-sm text-gray mb-2">{{ event.date.strftime('%B %d, %Y') }} · {{ event.time }}</p>
      <p class="text-gray mb-4">{{ event.description[:150] }}...</p>
      <a href="{{ url_for('events_bp.details', event_id=event.id) }}" class="btn btn-gold mr-2">View Details</a>
      <a href="{{ url_for('events_bp.rsvp', event_id=event.id) }}" class="btn btn-crimson">RSVP</a>
    </div>
    {% else %}
    <div class="col-span-3 text-center text-gray">No upcoming events at the moment.</div>
    {% endfor %}
  </div>
</section>

<!-- ============================================================
     🌟 CALL-TO-ACTION SECTION
============================================================ -->
<section class="section-dark text-center py-16 fade-in">
  <h2 class="text-3xl font-heading text-gold mb-4">Host an Event or Workshop</h2>
  <p class="text-white max-w-2xl mx-auto mb-8">
    Faculty, student organizations, and alumni can host events through PittState-Connect to reach the full PSU community.
  </p>
  <a href="{{ url_for('events_bp.create') }}" class="btn btn-gold mr-3">Create Event</a>
  <a href="{{ url_for('events_bp.list') }}" class="btn btn-crimson">View All Events</a>
</section>
{% endblock %}
