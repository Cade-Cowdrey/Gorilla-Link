{% extends "base.html" %}
{% block title %}Faculty Directory · Gorilla-Link{% endblock %}
{% block content %}

<!-- 🦍 Header -->
<section class="max-w-7xl mx-auto text-center mb-12 px-6">
  <h1 class="text-4xl md:text-5xl font-heading font-bold text-[#660000] dark:text-[#C7A008] mb-4">
    Faculty Directory
  </h1>
  <p class="text-gray-600 dark:text-gray-300 text-lg max-w-2xl mx-auto">
    Explore Pitt State’s dedicated faculty members — mentors, researchers, and innovators.
  </p>
</section>

<!-- ⚙️ Filters -->
<div class="max-w-7xl mx-auto mb-10 px-6 flex flex-col md:flex-row md:items-center md:justify-between gap-4">
  <div class="flex items-center space-x-2">
    <label class="text-sm font-medium text-gray-700 dark:text-gray-200">Filter by Department:</label>
    <select id="deptSelect" class="border rounded-lg px-3 py-2 text-sm dark:bg-gray-800 dark:text-gray-100">
      <option value="all">All Departments</option>
      <option value="business">Business</option>
      <option value="engineering">Engineering</option>
      <option value="education">Education</option>
      <option value="nursing">Nursing</option>
      <option value="computerscience">Computer Science</option>
      <option value="psychology">Psychology</option>
    </select>
  </div>

  <input id="searchInput" type="text" placeholder="Search faculty..."
         class="border rounded-lg px-3 py-2 text-sm w-full md:w-64 dark:bg-gray-800 dark:text-gray-100">
</div>

<!-- 🧑‍🏫 Faculty Grid -->
<section id="facultyGrid" class="max-w-7xl mx-auto grid sm:grid-cols-2 lg:grid-cols-3 gap-8 px-6">
  {% set faculty = [
    {"name":"Dr. Emily Carter","title":"Professor of Business","department":"business","research":"Entrepreneurship","email":"ecarter@pittstate.edu"},
    {"name":"Dr. Michael Nguyen","title":"Associate Professor of Engineering","department":"engineering","research":"Renewable Energy","email":"mnguyen@pittstate.edu"},
    {"name":"Dr. Sarah Adams","title":"Assistant Professor of Education","department":"education","research":"Child Development","email":"sadams@pittstate.edu"},
    {"name":"Dr. Lisa Hernandez","title":"Professor of Nursing","department":"nursing","research":"Public Health","email":"lhernandez@pittstate.edu"},
    {"name":"Dr. Robert King","title":"Lecturer, Computer Science","department":"computerscience","research":"AI Ethics","email":"rking@pittstate.edu"},
    {"name":"Dr. Amanda Clark","title":"Professor of Psychology","department":"psychology","research":"Behavioral Therapy","email":"aclark@pittstate.edu"}
  ] %}

  {% for prof in faculty %}
  <div class="card faculty-card" data-dept="{{ prof.department }}">
    <img src="{{ url_for('static', filename='images/default_prof.png') }}"
         alt="{{ prof.name }}" class="h-24 w-24 mx-auto rounded-full mb-3 shadow">
    <h3 class="text-lg font-semibold text-[#660000] dark:text-[#C7A008]">{{ prof.name }}</h3>
    <p class="text-sm text-gray-500 dark:text-gray-400">{{ prof.title }}</p>
    <p class="text-xs text-gray-400 italic mb-2">Research: {{ prof.research }}</p>
    <a href="mailto:{{ prof.email }}" class="text-[#C7A008] hover:underline text-sm">{{ prof.email }}</a>
  </div>
  {% endfor %}
</section>

<!-- 🌍 Footer CTA -->
<section class="text-center py-16 mt-20 bg-[#660000] dark:bg-[#111] text-white">
  <h2 class="text-3xl font-bold mb-4">Meet the Educators Behind Pitt State’s Success</h2>
  <p class="max-w-2xl mx-auto text-gray-200 mb-8">
    Our faculty drive innovation, research, and mentorship — connecting students to knowledge and opportunity.
  </p>
  <a href="{{ url_for('departments.dashboard') }}" class="btn-secondary">Back to Departments</a>
</section>

{% endblock %}

{% block scripts %}
<script>
// 🔍 Search + Filter
const grid = document.getElementById('facultyGrid');
const searchInput = document.getElementById('searchInput');
const deptSelect = document.getElementById('deptSelect');

function filterFaculty() {
  const query = searchInput.value.toLowerCase();
  const selectedDept = deptSelect.value;
  grid.querySelectorAll('.faculty-card').forEach(card => {
    const name = card.querySelector('h3').textContent.toLowerCase();
    const dept = card.dataset.dept;
    const matchesSearch = name.includes(query);
    const matchesDept = selectedDept === 'all' || dept === selectedDept;
    card.style.display = matchesSearch && matchesDept ? '' : 'none';
  });
}

searchInput.addEventListener('input', filterFaculty);
deptSelect.addEventListener('change', filterFaculty);
</script>
{% endblock %}
