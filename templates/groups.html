{% extends "base.html" %}
{% block content %}
<h2 class="fw-bold text-danger mb-3">Gorilla Match Groups</h2>

{% if logged_in %}
<div class="card shadow-sm mb-4">
  <div class="card-body">
    <form method="POST" action="{{ url_for('groups_bp.create_group') }}">
      <h6 class="fw-bold text-danger mb-3">Create a Group</h6>
      <input class="form-control mb-2" name="name" placeholder="Group name (e.g., Pre-Law Network)" required>
      <input class="form-control mb-2" name="topic" placeholder="Topic (e.g., LSAT, internships)">
      <textarea class="form-control mb-2" name="description" placeholder="What is this group about?"></textarea>
      <button class="btn btn-danger">Create</button>
    </form>
  </div>
</div>
{% endif %}

{% for g in groups %}
<div class="card shadow-sm mb-3">
  <div class="card-body d-flex justify-content-between align-items-center">
    <div>
      <h5 class="fw-bold text-danger mb-1"><a class="text-decoration-none" href="/groups/{{ g.id }}">{{ g.name }}</a></h5>
      <small class="text-muted">{{ g.topic or 'General' }}</small>
      {% if g.description %}<p class="mb-0 mt-2">{{ g.description }}</p>{% endif %}
    </div>
    <a class="btn btn-outline-danger" href="/groups/{{ g.id }}">Open</a>
  </div>
</div>
{% else %}
<p>No groups yet â€” create the first one!</p>
{% endfor %}
{% endblock %}
