{% extends "base.html" %}
{% block title %}Personal Circumstance Scholarships | PittState-Connect{% endblock %}
{% block content %}

<div class="bg-gradient-to-r from-purple-600 via-pink-600 to-purple-600 text-white py-16">
  <div class="max-w-7xl mx-auto px-6">
    <h1 class="text-4xl md:text-5xl font-bold mb-4 text-center">
      ü§ù Personal Circumstance Scholarships
    </h1>
    <p class="text-lg text-center opacity-90 max-w-3xl mx-auto">
      Scholarships for students with specific life experiences. You're not alone‚Äîthere's support available for your unique journey.
    </p>
  </div>
</div>

<section class="max-w-7xl mx-auto px-6 py-12">
  <!-- Privacy Notice -->
  <div class="bg-blue-50 border-l-4 border-blue-500 rounded-lg p-6 mb-8 reveal">
    <div class="flex items-start gap-4">
      <div class="text-3xl">üîí</div>
      <div>
        <h3 class="text-lg font-bold text-gray-800 mb-2">Your Privacy Matters</h3>
        <p class="text-gray-700 text-sm">
          This page provides information about scholarships for sensitive personal circumstances.
          All applications are handled confidentially by the scholarship providers. We understand
          that these topics can be personal‚Äîbrowse at your own comfort level.
        </p>
      </div>
    </div>
  </div>

  <!-- Support Resources -->
  <div class="bg-gradient-to-r from-green-50 to-emerald-50 border-l-4 border-green-500 rounded-lg p-6 mb-8 reveal">
    <div class="flex items-start gap-4">
      <div class="text-3xl">üíö</div>
      <div>
        <h3 class="text-lg font-bold text-gray-800 mb-2">Need Support?</h3>
        <p class="text-gray-700 text-sm mb-3">
          If you're dealing with difficult circumstances, PSU offers counseling and support services.
        </p>
        <div class="flex flex-wrap gap-3">
          <a href="#" class="text-sm bg-green-100 text-green-800 px-3 py-1 rounded-full font-medium hover:bg-green-200 transition">
            üìû Counseling Services
          </a>
          <a href="#" class="text-sm bg-green-100 text-green-800 px-3 py-1 rounded-full font-medium hover:bg-green-200 transition">
            üÜò Crisis Hotline
          </a>
          <a href="#" class="text-sm bg-green-100 text-green-800 px-3 py-1 rounded-full font-medium hover:bg-green-200 transition">
            ü§ù Student Support
          </a>
        </div>
      </div>
    </div>
  </div>

  <!-- Categories Count -->
  <div class="mb-8">
    <h2 class="text-3xl font-bold text-gray-800 mb-2">
      Scholarship Categories
      <span class="text-purple-600">({{ total_count }} opportunities)</span>
    </h2>
    <p class="text-gray-600">
      Browse by category to find scholarships that match your circumstances
    </p>
  </div>

  <!-- Scholarship Categories -->
  {% for category_name, scholarships in categories.items() %}
  <div class="mb-12 reveal">
    <div class="bg-white rounded-2xl shadow-xl overflow-hidden border border-gray-100">
      <!-- Category Header -->
      <div class="bg-gradient-to-r from-purple-600 to-pink-600 text-white p-6">
        <h3 class="text-2xl font-bold mb-2">{{ category_name }}</h3>
        <p class="text-sm opacity-90">{{ scholarships|length }} scholarship{{ 's' if scholarships|length != 1 else '' }} available</p>
      </div>

      <!-- Scholarships Grid -->
      <div class="p-6 grid gap-6 md:grid-cols-2">
        {% for scholarship in scholarships %}
        <div class="bg-gradient-to-br from-gray-50 to-white rounded-xl shadow-md p-6 border border-gray-200 card-hover">
          <!-- Title and Amount -->
          <div class="mb-4">
            <h4 class="text-xl font-bold text-gray-800 mb-2">
              {{ scholarship.title }}
            </h4>
            
            {% if scholarship.amount is string %}
            <span class="bg-gradient-to-r from-purple-500 to-pink-500 text-white font-bold text-lg px-4 py-2 rounded-lg inline-block shadow">
              {{ scholarship.amount }}
            </span>
            {% else %}
            <span class="bg-gradient-to-r from-purple-500 to-pink-500 text-white font-bold text-lg px-4 py-2 rounded-lg inline-block shadow">
              ${{ "{:,}".format(scholarship.amount) }}
            </span>
            {% endif %}
          </div>

          <!-- Deadline -->
          <div class="bg-purple-50 border-l-4 border-purple-500 rounded p-3 mb-4">
            <p class="text-purple-700 text-sm font-bold">
              ‚è∞ Deadline: {{ scholarship.deadline }}
            </p>
          </div>

          <!-- Description -->
          <p class="text-gray-700 text-sm mb-4 leading-relaxed">
            {{ scholarship.description }}
          </p>

          <!-- Requirements -->
          {% if scholarship.requirements %}
          <div class="mb-4">
            <p class="text-xs font-bold text-gray-700 mb-2">Requirements:</p>
            <ul class="text-xs text-gray-600 space-y-1">
              {% for req in scholarship.requirements %}
              <li class="flex items-start gap-2">
                <span class="text-purple-500">‚Ä¢</span>
                <span>{{ req }}</span>
              </li>
              {% endfor %}
            </ul>
          </div>
          {% endif %}

          <!-- Tags -->
          <div class="flex flex-wrap gap-2 mb-4">
            {% for tag in scholarship.tags %}
            <span class="bg-purple-100 text-purple-700 text-xs px-2 py-1 rounded">
              {{ tag }}
            </span>
            {% endfor %}
          </div>

          <!-- Source -->
          <p class="text-xs text-gray-500 mb-4">
            <strong>Source:</strong> {{ scholarship.source }}
          </p>

          <!-- Actions -->
          <div class="flex gap-2">
            <a href="{{ scholarship.url }}" target="_blank"
               class="flex-1 bg-gradient-to-r from-purple-600 to-pink-600 text-white text-center py-3 rounded-lg font-bold hover:shadow-xl transition-all transform hover:scale-105">
              Learn More & Apply ‚Üí
            </a>
            <button class="px-4 py-3 border-2 border-purple-600 text-purple-600 rounded-lg hover:bg-purple-600 hover:text-white transition font-bold"
                    title="Save for later">
              ‚≠ê
            </button>
          </div>
        </div>
        {% endfor %}
      </div>
    </div>
  </div>
  {% endfor %}

  <!-- Additional Resources -->
  <div class="bg-gradient-to-r from-gray-800 to-gray-900 text-white rounded-2xl p-8 text-center reveal">
    <h3 class="text-2xl font-bold mb-4">Can't Find What You're Looking For?</h3>
    <p class="text-gray-300 mb-6 max-w-2xl mx-auto">
      These are just some of the scholarships available for specific circumstances.
      We recommend also checking the main scholarship database and speaking with a financial aid counselor.
    </p>
    <div class="flex justify-center gap-4 flex-wrap">
      <a href="{{ url_for('scholarships_bp.browse') }}"
         class="bg-white text-gray-900 px-6 py-3 rounded-lg font-bold hover:bg-gray-100 transition">
        Browse All Scholarships
      </a>
      <a href="{{ url_for('scholarships_bp.index') }}"
         class="bg-purple-600 text-white px-6 py-3 rounded-lg font-bold hover:bg-purple-700 transition">
        Scholarship Hub
      </a>
    </div>
  </div>
</section>

{% endblock %}
